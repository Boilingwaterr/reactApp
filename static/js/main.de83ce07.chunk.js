(this["webpackJsonpmy-app2"]=this["webpackJsonpmy-app2"]||[]).push([[0],{125:function(e,t,a){e.exports={avatar:"Avatar_avatar__bKmJh"}},126:function(e,t,a){e.exports=a.p+"static/media/customAvatar.8e5ac0ea.jpg"},128:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUUlEQVQ4jaVSPUsDURCceR6W9hFLC0XEIuQv+AU2pjOIjZKQkMbWwrPwF6S4uxRRsTw7UfEfWCSCiKIgKCKmuyKoRbjbtTF6ahI1TvP2sTuzszDAP8FWkc1mJ4wxc6o6RPLcsqzdUqnUAIBisTgQhuGiqo6TfBCRfc/zzt4FcrncGoANAH0x8UeSMwCgqkcABmO9CMC667qbzOfzkyJy3MHhzds73K5pjJmyRGSly4ltiS2IyLIBMNJt6AeMGgB3vbJJ3hpVPehVQEQOTRAElR5d3AdBUDG+7zdFJE3y+Q/kF5Lzvu83DQCUy+VTEckAkN84J5lxHKcGxIJTq9WuU6lUA8B0NzbJVcdxtlv/ePJQrVZPksnkBclZAP1fuE8AFlzX3fok2G5LoVAYi6JoDx8ZuVLVtOd5l98cdbJq27ZVr9eXACCRSOzYth12PuwfeAVE8n2AXIg1BwAAAABJRU5ErkJggg=="},129:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVklEQVQ4jY1SPUwUURic+fYo1oPEiNFWGxILqJVQiUKjwGFBJ9Cw7ziMMTGxobTRiBcIt++xBT8dMdELdBptibQ2JFbXQsRY3O0lhn2fhXvEEEic6n3JzHvfzBviAhhjFgBU8/GZc271PF6hc5ibm7skImPe+89JkvwAMOO9HyoUCoH3fhnAaqVS6c2y7L73fjdJkhQA2BEHQfBRVQXATQAbAB6HYdgHAO12+zuALQCzABokfZZlo0mSpAIAJB+qqjjnhkhOAiiIyEi1Wm1Xq9W2iIwA6CL5yDk3pKoiIg/+3eCqiHwjOWmt/ZpncENVh/MHvjjnGgAQRdEdku+DIOiv1WrHAgC55w1VLeXiEsnBNE230zTdJjlojCnlcZUArNdqtWMAYBRFT0jOALgmIiPe+zbJQe/9TxEZBwDv/Y6IXFHVPREJvfefAByp6qaQfKuqC2EY9sVxfKCqw81mc4fkhLW2bK0tk5xoNps7AO7GcXwQhmGfqi6QXBIAUFV/UR866OnpoaqyM+cadixMA7h+xsIvkmM5eVdELp+xcKiqW6c3GmNeAuhyzr3IQwzztdHd3T2uqm3nXD2KotckfzvnFgFAAKBSqfQCmCVZBwDnXF1V94rF4lSxWJxS1T3nXB0AROQDgNlc87fKJycn90g2rLX75XL5tqqWRGQzjuN1AJifn79ljHlFsm6t3TfGNLIsGwbw7qIqrwOY/u8qJ0mSZlk2qqorQRD05/6OWq3WQKvVGgBw6JxbDIJgQFVXOuLTKp+HKIqeknyT/8LztbW15fN4fwAcr0XAGCAutQAAAABJRU5ErkJggg=="},130:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaklEQVQ4jcWSv2tTURTHP+dUgqTgkJchtrRuLR107+LUwQ4OYm8ROwqBl0G6uuUPEF2El7WDUIgFO4rFUTJ3KHRsaRwDhWzyztfBV6gS6uvkZ7o/zufcc++58L+xWYsppUa73d4GdiStAAtmdg6cRsSnyWTycTgclgA+K0Gn07lrZp/LsnxeluUm8FpSKempme1lWXbc7XYf/lFBSmmu1WrtuPsWsCpp+a9T97Mse2lmHyTNA2N3XzeAPM8fSdoH1m647klEvHD3B8BhVf2B9Xq9pYgYAQs13mzs7uuScklvgEuPiPc1ZYDFKn6vmv90YKOmfMXGdDq9qMbfZnbhXzSbzTWAiHjnwNdb+kfANoC7y4Fd4EdNeWxmb81sF0DSsg8Gg7GkVzXkk4jYLIpiZGaPgS9m9uwOgJndq4IEfAfu87szZ8CppIPr37coihHwJKXUMMDyPD+U1DCzfrVZn36/7ymlxq2ka/wCfGOU6oTvNWQAAAAASUVORK5CYII="},131:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVQ4jc3TsU7CQBzH8W+1KRgGvC4kDQMxMSy0T+CiOCIDJvQFGPpiDoY4wMyEvIEJQqwYSYzEpG3cOBODUxWxVEod/I2Xu09+/8sd/LNkARPY/QvswLKsq0aj8Wya5gWgAuxsieUMw2jPZrOcpml75XL5DLAI1aSYEGJUr9eLruu+9vv9QalUAriF5LPnhBAj27aLALquZ8fj8ftwOHSAp6QNv2EAnU5nGgRBDZiEa0pK7Hg+n0+WN24yciTm+/6JlHKyuvm3hnHYfdSBODAxBuvf4Q+s2+1Ofd+vxmHrGkZinudVpZRuHBYFpsJWQVUI8RCBnUop7zbBYOkO8/n8Za1WK6TBPtNqtQqO49zoun5t2/abYRiPmUzmMDEUNlRV9QioNJvN/V6v1966GV9/OVgsFueKogw8z3vZBgqjABVAS4Ms5wMErq3Qdm5HfQAAAABJRU5ErkJggg=="},132:function(e,t,a){e.exports={textareaBox:"TextAreaPosts_textareaBox__2w0xb"}},133:function(e,t,a){e.exports={dialogsForm:"TextAreaDialogs_dialogsForm__1Im5D"}},134:function(e,t,a){e.exports={searchField:"Search_searchField__g-Oat"}},135:function(e,t,a){e.exports={errorParallax:"Error404_errorParallax__10DXW"}},136:function(e,t,a){e.exports=a.p+"static/media/wave1.4c216452.svg"},137:function(e,t,a){e.exports=a.p+"static/media/wave2.690d4948.svg"},138:function(e,t,a){e.exports=a.p+"static/media/wave3.1f6cf712.svg"},139:function(e,t,a){e.exports=a.p+"static/media/wave4.babc32ef.svg"},140:function(e,t,a){e.exports=a.p+"static/media/cloud1.4ab17593.svg"},141:function(e,t,a){e.exports=a.p+"static/media/cloud2.2d02e223.svg"},142:function(e,t,a){e.exports=a.p+"static/media/cloud3.5de92f1f.svg"},143:function(e,t,a){e.exports=a.p+"static/media/boat.188c8180.svg"},144:function(e,t,a){e.exports=a.p+"static/media/moon.8339f1bf.svg"},145:function(e,t,a){e.exports=a(272)},228:function(e,t,a){},229:function(e,t,a){},23:function(e,t,a){e.exports={profileContent:"Profile_profileContent__19nxd",topContent:"Profile_topContent__3r4vf",wrapWrapper:"Profile_wrapWrapper__31Kxb",postsWrapper:"Profile_postsWrapper__3KfoS",PostsPlace:"Profile_PostsPlace__27w74",avatarPlace:"Profile_avatarPlace__RGXJR",editAvatar:"Profile_editAvatar__3m1ku",photoEditor:"Profile_photoEditor__3Y3y4",sendMessageButton:"Profile_sendMessageButton__122JK"}},272:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(121),o=a(275),s=a(2),c=a.n(s),i=a(5),u=a(41),l=a(27),p=a(122).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":""}}),m=function(e,t){return p.get("Users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},f=function(e){return p.post("follow/".concat(e)).then((function(e){return e.data}))},d=function(e){return p.delete("follow/".concat(e)).then((function(e){return e.data}))},g=function(){return p.get("auth/me").then((function(e){return e.data}))},h=function(e){return p.post("auth/login",e).then((function(e){return e.data}))},E=function(){return p.delete("auth/login").then((function(e){return e.data}))},v={getUserInfo:function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("profile/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(e){return p.get("profile/status/".concat(e))},putStatus:function(e){return p.put("profile/status",{status:e}).then((function(e){return e.data}))},putUserInfo:function(e){return p.put("profile",e).then((function(e){return e}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),p.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},b={getCaptcha:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},A={startDialog:function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.put("dialogs/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllDialogs:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("dialogs");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getMessagesList:function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("dialogs/".concat(t,"/messages"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sendMessage:function(e,t){return p.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e})).catch((function(e){return e}))},viewedMessage:function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("dialogs/messages/".concat(t,"/viewed"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),countNewMessage:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("dialogs/messages/new/count");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),returnNewMessage:function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("dialogs/".concat(t,"/messages/new?newerThen=").concat(a));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()};function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y="dialogs/ERROR",w={dataMessages:[],dataUsers:[],companionInfo:[],messageCount:[],error:null},T=function(e){return{type:"dialogs/SEND-MESSAGE",message:e}},D=function(e){return{type:"dialogs/GET_CURRENT_DIALOG",payload:e}},S=function(e){return{type:y,error:e}},P=function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAllDialogs();case 2:a=e.sent,t({type:"dialogs/GET_ALL_DIALOGS",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.getMessagesList(e);case 2:r=a.sent,n({type:"dialogs/SETTING_COMPANION_INFO",payload:t}),n(D(r.data));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SEND-MESSAGE":var a=new Date,n=a.getHours(),r=a.getMinutes(),o=a.getSeconds(),s=a.getFullYear(),c=a.getMonth(),i=a.getDate(),l={message:t.message,time:{fullDate:"".concat(i,".").concat(c,".").concat(s),exactTime:"".concat(n,":").concat(r,":").concat(o)},id:a.getTime()};return _({},e,{dataMessages:[].concat(Object(u.a)(e.dataMessages),[l])});case"dialogs/GET_ALL_DIALOGS":return _({},e,{dataUsers:t.payload.map((function(t){return _({},e.dataUsers,{user:t})}))});case"dialogs/GET_CURRENT_DIALOG":return _({},e,{dataMessages:t.payload.items});case y:return _({},e,{error:t.error});case"dialogs/SETTING_COMPANION_INFO":return _({},e,{companionInfo:t.payload});case"dialogs/SET_MESSAGE_COUNT":return _({},e,{messageCount:t.payload});case"dialogs/CLEAR_MESSAGE_LIST":return _({},e,{dataMessages:[],companionInfo:[],messageCount:[],error:null});default:return e}};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N={dataPostTextArea:"",postsMessages:[{post:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.",id:1,time:{fullDate:"02.11.2019",exactTime:"16:30:26"}},{post:"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",id:2,time:{fullDate:"04.11.2019",exactTime:"12:28:13"}}],postsComments:[],profile:null,myStatus:"here should be status",isOwner:!1},I=function(e){return{type:"profile/SET_PROFILE_INFO",data:e}},U=function(e){return{type:"profile/SET_OWNER",isOwner:e}},M=function(e){return{type:"profile/SET_STATUS",status:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/UPDATE-POST-TEXTAREA-CONTENT":return C({},e,{dataPostTextArea:t.newText});case"profile/SEND-POST":if(""!==e.dataPostTextArea){var a=new Date,n=a.getHours(),r=a.getMinutes(),o=a.getSeconds(),s=a.getFullYear(),c=a.getMonth(),i=a.getDate(),l={post:e.dataPostTextArea,time:{fullDate:"".concat(i,".").concat(c,".").concat(s),exactTime:"".concat(n,":").concat(r,":").concat(o)}};return C({},e,{postsMessages:[].concat(Object(u.a)(e.postsMessages),[l]),dataPostTextArea:""})}return e;case"profile/DELETE_POST":return C({},e,{postsMessages:e.postsMessages.filter((function(e){return e.id!==t.id}))});case"profile/SET_USER_PROFILE":return C({},e,{profile:t.profileData});case"profile/SET_STATUS":return C({},e,{myStatus:t.status});case"profile/SET_OWNER":return C({},e,{isOwner:t.isOwner});case"profile/SET_PROFILE_INFO":var p=t.data.config.data;return C({},e,{profile:JSON.parse(p)});default:return e}};function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F="users/FOLLOW",B={users:[],currentPage:1,pageSize:50,totalUsersCount:0,buttonDisabled:[],searchInputText:"",usersFilter:""},G=function(e){return{type:F,userId:e}},Q=function(e){return{type:"users/UNFOLLOW",userId:e}},J=function(e){return{type:"users/SET-USERS",users:e}},z=function(e,t){return{type:"users/SET_TOGGLE_FOLLOWING_BUTTON",boolean:e,userId:t}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return W({},e,{users:e.users.map((function(e){return e.id===t.userId?W({},e,{followed:!0}):e}))});case"users/UNFOLLOW":return W({},e,{users:e.users.map((function(e){return e.id===t.userId?W({},e,{followed:!1}):e}))});case"users/SET-USERS":return W({},e,{users:Object(u.a)(t.users)});case"users/SET_CURRENT_PAGE":return W({},e,{currentPage:t.currentPage});case"users/SET_TOTAL_USER_COUNT":return W({},e,{totalUsersCount:t.totalCount});case"users/SET_TOGGLE_FOLLOWING_BUTTON":return W({},e,{buttonDisabled:t.boolean?[].concat(Object(u.a)(e.buttonDisabled),[t.userId]):e.buttonDisabled.filter((function(e){return e!==t.userId}))});case"users/UPDATE_INPUT_TEXT":return W({},e,{searchInputText:t.data});case"users/SEARCHING_USERS":var a=e.searchInputText;return W({},e,{usersFilter:a});default:return e}};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K={captchaURL:null,userId:null,email:null,login:null,isAuth:!1,myData:null,authError:null},X=function(e,t,a,n,r,o){return{type:"auth/SET_USER_AUTH_DATA",data:{userId:e,email:t,login:a,isAuth:n,myData:r,captchaURL:o}}},Y=function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,o,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:if(0!==(a=e.sent).resultCode){e.next=9;break}return n=a.data,r=n.id,o=n.login,s=n.email,e.next=7,v.getUserInfo(r);case 7:(i=e.sent)&&t(X(r,s,o,!0,i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getCaptcha();case 2:a=e.sent,t({type:"auth/SET_CAPTCHA_URL",data:a.url});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_AUTH_DATA":return q({},e,{},t.data);case"auth/SET_AUTH_ERROR":return q({},e,{authError:t.data});case"auth/SET_CAPTCHA_URL":return q({},e,{captchaURL:t.data});default:return e}};function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={initialized:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/INITIALIZING":return te({},e,{initialized:!0});default:return e}},re=Object(n.c)({dialogsData:k,profileData:L,usersData:H,authData:$,appData:ne,form:o.a}),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.d,se=Object(n.e)(re,oe(Object(n.a)(r.a)));window.store=se;var ce,ie,ue=se,le=a(0),pe=a.n(le),me=a(65),fe=a.n(me),de=(a(228),a(11)),ge=a(12),he=a(14),Ee=a(13),ve=a(15),be=a(37),Ae=(a(229),a(21)),Oe=a(30),_e=a.n(Oe),ye=a(10),we=a(125),Te=a.n(we),De=a(126),Se=a.n(De),Pe=function(e){return pe.a.createElement("div",{className:Te.a.avatar},null===e.photo||void 0===e.photo?pe.a.createElement("img",{src:Se.a,alt:"a"}):pe.a.createElement("img",{src:e.photo,alt:"b"}))},je=function(e){var t=Object(le.useState)(!1),a=Object(Ae.a)(t,2),n=a[0],r=a[1],o=function(){r(!n)};return pe.a.createElement("div",{className:_e.a.header},e.isAuth&&null!==e.myData?pe.a.createElement("div",{className:_e.a.userMenu,onClick:o,onMouseLeave:n?o:void 0},pe.a.createElement("div",{className:_e.a.miniAva},pe.a.createElement(Pe,{photo:e.myData.photos.small})),pe.a.createElement("div",null,e.myData.fullName),pe.a.createElement("div",{className:_e.a.corner}),!!n&&pe.a.createElement("div",{className:_e.a.navMenu},pe.a.createElement("div",null,pe.a.createElement(ye.b,{to:"/profile",activeClassName:_e.a.active},"Profile")),pe.a.createElement("div",null,pe.a.createElement(ye.b,{to:"/settings",activeClassName:_e.a.active},"Settings")),pe.a.createElement("div",{onClick:function(){e.logout(),r(!1)}},pe.a.createElement("p",null,"Logout")))):pe.a.createElement("div",{className:_e.a.login},pe.a.createElement(ye.b,{to:"/login"},"Login")))},ke=a(9),xe=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(he.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){a.props.logoutThunk(),a.props.setOwnerActionCreator(!1)},a}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"componentDidMount",value:function(){this.props.chekAuthThunk()}},{key:"componentDidUpdate",value:function(e){e.isAuth!==this.props.isAuth&&this.props.chekAuthThunk()}},{key:"render",value:function(){return pe.a.createElement(je,Object.assign({},this.props,{logout:this.logout}))}}]),t}(pe.a.Component),Ce=Object(n.d)(Object(ke.b)((function(e){return{isAuth:e.authData.isAuth,login:e.authData.login,id:e.authData.userId,myData:e.authData.myData,isOwner:e.profileData.isOwner}}),{chekAuthThunk:Y,logoutThunk:function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===e.sent.resultCode&&t(X(null,null,null,!1,null,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOwnerActionCreator:U}))(xe),Ne=a(54),Ie=a.n(Ne),Ue=Object(ke.b)((function(e){return{messageCount:e.dialogsData.messageCount,isAuth:e.authData.isAuth}}),{countNewMessageThunk:function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.countNewMessage();case 2:a=e.sent,t({type:"dialogs/SET_MESSAGE_COUNT",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.countNewMessageThunk,a=e.messageCount,n=e.isAuth;return Object(le.useEffect)((function(){n&&t()}),[a,t,n]),pe.a.createElement("div",{className:Ie.a.sidebar},pe.a.createElement("div",null,pe.a.createElement(ye.b,{to:"/profile",activeClassName:Ie.a.active},"My profile")),pe.a.createElement("div",null,pe.a.createElement(ye.b,{to:"/dialogs",activeClassName:Ie.a.active},"Messages","")),pe.a.createElement("div",null,pe.a.createElement(ye.b,{to:"/users",activeClassName:Ie.a.active},"Users")))})),Me=a(23),Le=a.n(Me),Re=a(29),We=a.n(Re),Fe=a(128),Be=a.n(Fe),Ge=a(129),Qe=a.n(Ge),Je=a(130),ze=a.n(Je),He=function(e){var t=Object(le.useState)(!1),a=Object(Ae.a)(t,2),n=a[0],r=a[1];return pe.a.createElement("div",{className:We.a.post},pe.a.createElement("div",{className:We.a.postHeader},pe.a.createElement("div",{className:We.a.postPhoto},pe.a.createElement(Pe,{photo:e.myData.photos.small})),pe.a.createElement("div",{className:We.a.postSender},pe.a.createElement("h3",null,e.myData.fullName),pe.a.createElement("h4",null,e.time.fullDate),pe.a.createElement("h4",null,e.time.exactTime))),pe.a.createElement("div",{className:We.a.postContent},pe.a.createElement("p",null,e.post)),pe.a.createElement("div",{className:We.a.postFooter},pe.a.createElement("div",null,pe.a.createElement("img",{src:Be.a,alt:"like"}),pe.a.createElement("p",null)),pe.a.createElement("div",null,pe.a.createElement("img",{src:ze.a,alt:"comment"})),pe.a.createElement("div",{onClick:function(){!n&&r(!0),n&&r(!1)}},pe.a.createElement("img",{src:Qe.a,alt:"setting"})),n&&pe.a.createElement(Ve,{deletePost:e.deletePost,id:e.id})))},Ve=function(e){return pe.a.createElement("div",{className:We.a.settingPost},pe.a.createElement("div",{onClick:function(){e.deletePost(e.id)}},"Delete post"))},qe=function(e){var t=0,a=e.profileData.postsMessages.map((function(a){return pe.a.createElement(He,{myData:e.myData,deletePost:e.deletePost,id:a.id,key:t++,post:a.post,time:a.time})}));return pe.a.createElement("div",{className:We.a.Posts},a)},Ke=a(36),Xe=a.n(Ke),Ye=function(e){return e||"number"===typeof e?void 0:"Field is required"},Ze=(ce=4,a(274)),$e=a(273),et=a(88),tt=a.n(et),at=function(e){var t=e.input,a=e.withoutTouch,n=e.autocomplete,r=e.values,o=e.label,s=e.type,c=e.placeholder,i=e.setEditMode,u=e.meta,l=u.touched,p=u.error,m=u.warning;return pe.a.createElement("div",null,pe.a.createElement("label",null,o),pe.a.createElement("input",Object.assign({},t,{onBlur:!p&&i,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},autoFocus:!0,initialvalues:r,placeholder:c||o,type:s,autoComplete:n})),(!!a||l)&&p&&pe.a.createElement("span",{className:tt.a.errorSpan},p)||(!!a||l)&&m&&pe.a.createElement("span",{className:tt.a.warningSpan},m))},nt=(ie=300,function(e){return e&&e.length>ie?"Must be ".concat(ie," characters or less"):void 0}),rt=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(he.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(r)))).state={editMode:!1,myStatus:a.props.myStatus},a.setEditMode=function(){a.props.myId===a.props.profile.userId&&(a.state.editMode?(a.props.changeStatusThunk(a.state.myStatus),a.setState({editMode:!1})):a.setState({editMode:!0}))},a.statusInputChange=function(e){a.setState({myStatus:e.currentTarget.value})},a}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.myStatus!==this.props.myStatus&&this.setState({myStatus:this.props.myStatus})}},{key:"render",value:function(){return pe.a.createElement("div",{className:Xe.a.profileStatus},this.state.editMode?pe.a.createElement(ot,{setEditMode:this.setEditMode,statusInputChange:this.statusInputChange,initialValues:this.state}):pe.a.createElement("span",{onDoubleClick:this.setEditMode},this.props.myStatus||"put your status here"))}}]),t}(pe.a.Component),ot=Object($e.a)({form:"statusInput",maxLength300:nt})((function(e){return pe.a.createElement("form",{onSubmit:e.setEditMode},pe.a.createElement(Ze.a,{name:"myStatus",type:"text",withoutTouch:!0,component:at,onChange:e.statusInputChange,setEditMode:e.setEditMode,validate:nt}))})),st=rt,ct=a(131),it=a.n(ct),ut=function(e){return!!e.value&&pe.a.createElement("div",null,pe.a.createElement("b",null,e.title,":")," ",pe.a.createElement("p",null,e.value))},lt=function(e){return pe.a.createElement("div",{className:Xe.a.infoAboutUser},pe.a.createElement("div",null,pe.a.createElement("h2",null,e.profile.fullName)),pe.a.createElement("div",null,pe.a.createElement(st,{myStatus:e.myStatus,changeStatusThunk:e.changeStatusThunk,myId:e.myId,profile:e.profile})),pe.a.createElement("div",null,pe.a.createElement("h3",null,"about me:"),pe.a.createElement("p",null,e.profile.aboutMe)),pe.a.createElement("div",null,pe.a.createElement("h3",null,"Contacts:"),Object.keys(e.profile.contacts).map((function(t){return pe.a.createElement(ut,{key:t,title:t,value:e.profile.contacts[t]})}))),e.isOwner&&pe.a.createElement("div",{className:Xe.a.editButton,onClick:function(){e.setEditMode(!0)}},pe.a.createElement("img",{src:it.a,alt:"edit"})))},pt=Object($e.a)({form:"ProfileEditMode"})((function(e){console.log("render edit info");var t=e.handleSubmit;return pe.a.createElement("form",{className:Xe.a.infoAboutUser,onSubmit:t},pe.a.createElement(Ze.a,{name:"fullName",type:"text",placeholder:e.profile.fullName,values:e.profile.fullName,component:at}),pe.a.createElement("div",null,pe.a.createElement(st,{myStatus:e.myStatus,changeStatusThunk:e.changeStatusThunk,myId:e.myId,profile:e.profile,editMode:!0})),pe.a.createElement("div",null,pe.a.createElement("h3",null,"about me:"),pe.a.createElement(Ze.a,{name:"aboutMe",type:"text",placeholder:e.profile.aboutMe,component:at})),pe.a.createElement("div",null,pe.a.createElement("h3",null,"lookingForAJob:"),pe.a.createElement(Ze.a,{name:"lookingForAJob",type:"checkbox",placeholder:e.profile.lookingForAJob,component:at})),pe.a.createElement("div",null,pe.a.createElement("h3",null,"lookingForAJobDescription: "),pe.a.createElement(Ze.a,{name:"lookingForAJobDescription",type:"text",placeholder:e.profile.lookingForAJobDescription,component:at})),pe.a.createElement("div",null,pe.a.createElement("h3",null,"Contacts:"),Object.keys(e.profile.contacts).map((function(t){return pe.a.createElement(Ze.a,{name:"contacts.".concat(t),placeholder:e.profile.contacts[t],key:t,type:"text",label:t,component:at})}))),pe.a.createElement("div",{className:Xe.a.saveButton},pe.a.createElement("button",{type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))})),mt=a(132),ft=a.n(mt),dt=function(e){return pe.a.createElement("div",{className:ft.a.textareaBox},pe.a.createElement("textarea",{onChange:function(t){var a=t.target.value;e.onPostsTextAreaStateChange(a)},value:e.dataPostTextArea,onKeyDown:function(t){e.sendPost(t)},placeholder:"Type message here..."}))},gt=Object(ke.b)((function(e){return{dataPostTextArea:e.profileData.dataPostTextArea}}),(function(e){return{sendPost:function(t){"Enter"!==t.key||t.shiftKey||(e({type:"profile/SEND-POST"}),t.preventDefault())},onPostsTextAreaStateChange:function(t){e({type:"profile/UPDATE-POST-TEXTAREA-CONTENT",newText:t})}}}))(dt),ht=a(46),Et=a.n(ht),vt=function(){return pe.a.createElement("div",{className:Et.a.preloader},pe.a.createElement("div",{className:Et.a.preloaderContent},pe.a.createElement("div",{className:Et.a.preloaderFirst}),pe.a.createElement("div",{className:Et.a.preloaderSecond}),pe.a.createElement("div",{className:Et.a.preloaderThird})))},bt=function(e){return pe.a.createElement(pe.a.Fragment,null,!e.profileData.isOwner&&pe.a.createElement("div",{className:Le.a.sendMessageButton},pe.a.createElement(ye.b,{to:"/dialogs/".concat(e.profileData.profile.userId)},pe.a.createElement("button",{onClick:function(){e.startDialogThunk(e.profileData.profile.userId),e.getCurrentDialogThunk(e.profileData.profile.userId,e.profileData.profile)}},"Send Message"))))},At=function(e){var t=function(){var t=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.target.files.length){t.next=6;break}return n=a.target.files[0],t.next=4,e.saveUserPhotoThunk(n);case 4:e.getUserInfoThunk(e.myId),e.chekAuthThunk();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return pe.a.createElement("form",{className:Le.a.photoEditor},pe.a.createElement("input",{name:"photoEditor",type:"file",onChange:t}))},Ot=function(e){var t=Object(le.useState)(!1),a=Object(Ae.a)(t,2),n=a[0],r=a[1],o=Object(le.useState)(!1),s=Object(Ae.a)(o,2),c=s[0],i=s[1],u=Object(le.useState)(!1),l=Object(Ae.a)(u,2),p=l[0],m=l[1];return e.profileData.profile?pe.a.createElement("div",{className:Le.a.profileContent},pe.a.createElement("div",{className:Le.a.topContent},pe.a.createElement("div",{className:Le.a.avatarPlace,onMouseOver:function(){i(!0)},onMouseLeave:function(){i(!1),m(!1)}},pe.a.createElement(Pe,{photo:e.profileData.profile.photos.large}),e.profileData.isOwner&&c&&pe.a.createElement("div",{className:Le.a.editAvatar},pe.a.createElement("span",{onClick:function(){m(!0)}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"),p&&pe.a.createElement(At,{chekAuthThunk:e.chekAuthThunk,saveUserPhotoThunk:e.saveUserPhotoThunk,getUserInfoThunk:e.getUserInfoThunk,myId:e.myId}))),pe.a.createElement(bt,e),n?pe.a.createElement(pt,{profile:e.profileData.profile,myStatus:e.profileData.myStatus,changeStatusThunk:e.changeStatusThunk,myId:e.myId,setEditMode:r,onSubmit:function(t){e.saveProfileInfo(t),e.chekAuthThunk(),r(!1)},initialValues:e.profileData.profile}):pe.a.createElement(lt,{profile:e.profileData.profile,myStatus:e.profileData.myStatus,changeStatusThunk:e.changeStatusThunk,myId:e.myId,setEditMode:r,isOwner:e.profileData.isOwner,editpic:e.editpic})),pe.a.createElement("div",{className:Le.a.wrapWrapper},e.profileData.isOwner&&pe.a.createElement("div",{className:Le.a.postsWrapper},pe.a.createElement("div",{className:Le.a.PostsPlace},pe.a.createElement(qe,{myData:e.myData,deletePost:e.deletePost,profileData:e.profileData})),pe.a.createElement("div",{className:Le.a.txt},pe.a.createElement(gt,null))))):pe.a.createElement(vt,null)},_t=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(he.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(r)))).deletePost=function(e){a.props.profileData.isOwner&&a.props.deletePostActionCreator(e)},a}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"refreshUser",value:function(){var e=this.props.match.params.userId;e&&void 0!==e||(e=this.props.myId)&&void 0!==e||this.props.history.push("/login"),this.props.getUserInfoThunk(e),this.props.getStatusThunk(e),this.props.myId===e?this.props.setOwnerActionCreator(!0):this.props.setOwnerActionCreator(!1)}},{key:"componentDidMount",value:function(){this.refreshUser()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshUser()}},{key:"render",value:function(){return pe.a.createElement(pe.a.Fragment,null,pe.a.createElement(Ot,Object.assign({},this.props,{deletePost:this.deletePost})))}}]),t}(pe.a.Component),yt=Object(n.d)(Object(ke.b)((function(e){return{profileData:e.profileData,myId:e.authData.userId,myData:e.authData.myData}}),{getUserInfoThunk:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getUserInfo(e);case 2:n=t.sent,a({type:"profile/SET_USER_PROFILE",profileData:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatusThunk:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getStatus(e);case 2:null!==(n=t.sent).data&&a(M(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeStatusThunk:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.putStatus(e);case 2:0===t.sent.resultCode&&a(M(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePostActionCreator:function(e){return{type:"profile/DELETE_POST",id:e}},setOwnerActionCreator:U,saveUserPhotoThunk:function(e){return Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.savePhoto(e);case 2:case"end":return t.stop()}}),t)})))},saveProfileInfo:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.putUserInfo(e);case 2:n=t.sent,a(I(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},chekAuthThunk:Y,startDialogThunk:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.startDialog(e);case 2:0===(n=t.sent).data.resultCode?a(P()):a(S(n.data.resultCode));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getCurrentDialogThunk:j}),be.g)(_t),wt=a(38),Tt=a.n(wt),Dt=a(47),St=a.n(Dt),Pt=function(e){var t="/dialogs/".concat(e.dialogUserInfo.id),a="/profile/".concat(e.dialogUserInfo.id);return pe.a.createElement("div",{className:St.a.list},pe.a.createElement("div",{className:St.a.dialogWrapper},pe.a.createElement("div",{className:St.a.miniAva},pe.a.createElement(ye.b,{to:a},pe.a.createElement(Pe,{photo:e.dialogUserInfo.photos.small}))),pe.a.createElement("div",{className:St.a.nameWrapper},pe.a.createElement(ye.b,{onClick:function(){e.getCurrentDialogThunk(e.dialogUserInfo.id,e.dialogUserInfo)},activeClassName:St.a.listActive,to:t},pe.a.createElement("p",null,e.dialogUserInfo.userName)))))},jt=a(31),kt=a.n(jt),xt=function(e){var t,a=e.dialogsData,n=Object(le.useState)([]),r=Object(Ae.a)(n,2),o=r[0],s=r[1];return Object(le.useEffect)((function(){return s(a.companionInfo),function(){}}),[a.companionInfo]),t=null===a.error?!0===e.message.viewed?kt.a.message:kt.a.messageUnread:kt.a.messageError,pe.a.createElement("div",{className:t,onClick:function(){console.log(o),void 0!==o&&!e.message.viewed&&e.getCurrentDialogThunk(o.id,o)}},pe.a.createElement("div",{className:kt.a.photoWrapper},pe.a.createElement(Pe,{photo:e.myData.userId===e.message.senderId?e.myData.photos.small:a.companionInfo&&a.companionInfo.photos.small})),pe.a.createElement("div",{className:kt.a.contentWrapper},pe.a.createElement("div",{className:kt.a.nameWrapper},pe.a.createElement("h3",null,e.myData.userId===e.message.senderId?e.myData.fullName:e.message.senderName)),pe.a.createElement("div",{className:kt.a.dateWrapper},pe.a.createElement("p",null,e.message.addedAt)),pe.a.createElement("div",{className:kt.a.messageWrapper},pe.a.createElement("p",null,e.message.body))))},Ct=a(133),Nt=a.n(Ct),It=Object($e.a)({form:"dialogInput"})((function(e){var t=e.handleSubmit;return pe.a.createElement(pe.a.Fragment,null,pe.a.createElement("form",{onSubmit:t,onKeyDown:function(e){return function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),t())}(e)},className:Nt.a.dialogsForm},pe.a.createElement(Ze.a,{name:"dialog",type:"text",component:at,autocomplete:"off",placeholder:"Type message here..."}),pe.a.createElement("button",{type:"submit"},"Send message")))})),Ut=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(he.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e){""!==e.dialog&&a.props.sendMessage(a.props.userId,e.dialog),e.dialog=""},a}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return pe.a.createElement(pe.a.Fragment,null,pe.a.createElement(It,{onSubmit:this.submit}))}}]),t}(pe.a.Component),Mt=Object(ke.b)((function(e){return{dialogsData:e.dialogsData}}),{sendMessage:function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.sendMessage(e,t);case 2:"Error"===(r=a.sent).name?(n(S(r)),n(T("Your message: '".concat(t,"' was not sent due to an error: '").concat(r,"'.")))):n(j(e));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(Ut),Lt=function(e){var t=e.match,a=e.clearMessageListActionCreator,n=Object(le.useRef)([]);Object(le.useEffect)((function(){return void 0===t.params.userId&&a(),function(){a()}}),[t.params.userId,a]),Object(le.useEffect)((function(){n.current.scrollTop=n.current.offsetHeight}));var r=e.dialogsData.dataMessages.map((function(t){return pe.a.createElement(xt,{key:t.id,message:t,dialogsData:e.dialogsData,myData:e.myData,getCurrentDialogThunk:e.getCurrentDialogThunk,viewMessageThunk:e.viewMessageThunk})})),o=e.dialogsData.dataUsers.map((function(t){return pe.a.createElement(Pt,{key:t.user.id,getCurrentDialogThunk:e.getCurrentDialogThunk,dialogUserInfo:t.user})}));return pe.a.createElement("div",{className:Tt.a.Dialogs},pe.a.createElement("div",{className:Tt.a.dialogsList},pe.a.createElement("div",{className:Tt.a.list},o)),pe.a.createElement("div",{className:Tt.a.hr}),pe.a.createElement("div",{className:Tt.a.messagesBox},pe.a.createElement("div",{className:Tt.a.messageList,ref:n},r),pe.a.createElement("div",{className:Tt.a.sendMessageArea},void 0!==e.match.params.userId&&pe.a.createElement(Mt,{userId:e.match.params.userId}))))},Rt=function(e){return{isAuth:e.authData.isAuth}},Wt=function(e){function t(){return Object(de.a)(this,t),Object(he.a)(this,Object(Ee.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllDialogsThunk()}},{key:"render",value:function(){return pe.a.createElement(Lt,this.props)}}]),t}(pe.a.Component),Ft=Object(n.d)(Object(ke.b)((function(e){return{dialogsData:e.dialogsData,myData:e.authData.myData}}),{getCurrentDialogThunk:j,getAllDialogsThunk:P,viewMessageThunk:function(e){return Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.viewedMessage(e);case 2:case"end":return t.stop()}}),t)})))},clearMessageListActionCreator:function(){return{type:"dialogs/CLEAR_MESSAGE_LIST"}}}),(function(e){var t=function(t){function a(){return Object(de.a)(this,a),Object(he.a)(this,Object(Ee.a)(a).apply(this,arguments))}return Object(ve.a)(a,t),Object(ge.a)(a,[{key:"render",value:function(){return this.props.isAuth?pe.a.createElement(e,this.props):pe.a.createElement(be.a,{to:"/login"})}}]),a}(pe.a.Component);return Object(ke.b)(Rt)(t)}))(Wt),Bt=a(69),Gt=a.n(Bt),Qt=function(e){return pe.a.createElement("div",{className:Gt.a.settings},pe.a.createElement("div",{className:Gt.a.blockOne},pe.a.createElement("h1",null,"Settings")),pe.a.createElement("div",{className:Gt.a.blockTwo}))},Jt=a(55),zt=a.n(Jt),Ht=a(134),Vt=a.n(Ht),qt=function(e){return pe.a.createElement("div",{className:Vt.a.searchField},pe.a.createElement("input",{type:"text",placeholder:"nickname",value:e.searchInputText,onChange:function(t){var a=t.currentTarget.value;e.inputChangeAC(a)}}))},Kt=a(32),Xt=a.n(Kt),Yt=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(he.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(r)))).state={portionNumber:1},a.showFollowingPortion=function(e){a.setState({portionNumber:e})},a}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){for(var e=this,t=Math.ceil(this.props.totalUsersCount/this.props.pageSize),a=Math.ceil(t/5),n=5*(this.state.portionNumber-1)+1,r=5*this.state.portionNumber,o=[],s=1;s<=t;s++)o.push(s);return pe.a.createElement("div",{className:Xt.a.paginator},pe.a.createElement("div",{className:Xt.a.doubleArrow},pe.a.createElement("span",{onClick:function(){e.showFollowingPortion(1)},className:Xt.a.leftArrowtoEnd})),this.state.portionNumber>1&&pe.a.createElement("span",{onClick:function(){e.showFollowingPortion(e.state.portionNumber-1)}},pe.a.createElement("div",{className:Xt.a.leftArrow})),o.filter((function(e){return e>=n&&e<=r})).map((function(t){return pe.a.createElement("span",{key:t,className:e.props.currentPage===t?Xt.a.currentPage:void 0,onClick:function(){e.props.onPageChanged(t)}},t)})),a>this.state.portionNumber&&pe.a.createElement("span",{onClick:function(){e.showFollowingPortion(e.state.portionNumber+1)}},pe.a.createElement("span",{className:Xt.a.rightArrow})),pe.a.createElement("div",{className:Xt.a.doubleArrow},pe.a.createElement("span",{onClick:function(){e.showFollowingPortion(t/5)},className:Xt.a.rightArrowtoEnd})))}}]),t}(pe.a.Component),Zt=function(e){return pe.a.createElement("div",{className:zt.a.usersPage},pe.a.createElement(Yt,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage}),pe.a.createElement(qt,{searchInputText:e.searchInputText,inputChangeAC:e.inputChangeAC,searchUsersActionCreator:e.searchUsersActionCreator}),e.users.filter(e.searching(e.searchInputText)).map((function(t){return pe.a.createElement("div",{key:t.id,className:zt.a.userWrapper},pe.a.createElement("div",{className:zt.a.firstPiece},pe.a.createElement(ye.b,{to:"/profile/".concat(t.id)},pe.a.createElement(Pe,{photo:t.photos.small})),t.followed?!!e.isAuth&&pe.a.createElement("button",{disabled:e.buttonDisabled.some((function(e){return e===t.id})),onClick:function(){e.unFollow(t.id)}},"Unfollow"):!!e.isAuth&&pe.a.createElement("button",{disabled:e.buttonDisabled.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow")),pe.a.createElement("div",{className:zt.a.secondPiece},pe.a.createElement("div",null,"".concat(t.name)),pe.a.createElement("div",null,"status: ".concat(null===t.status?"empty":t.status))))})))},$t=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(he.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){a.props.pageChanger(e,a.props.pageSize)},a.searching=function(e){return function(t){return t.name.toLowerCase().includes(e.toLowerCase())}},a}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return pe.a.createElement(Zt,Object.assign({},this.props,{searching:this.searching,onPageChanged:this.onPageChanged}))}}]),t}(pe.a.Component),ea=Object(n.d)(Object(ke.b)((function(e){return{users:e.usersData.users,currentPage:e.usersData.currentPage,pageSize:e.usersData.pageSize,totalUsersCount:e.usersData.totalUsersCount,buttonDisabled:e.usersData.buttonDisabled,searchInputText:e.usersData.searchInputText,searchUsersActionCreator:e.usersData.searchUsersActionCreator,isAuth:e.authData.isAuth}}),(function(e){return{follow:function(t){e(function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(z(!0,e)),t.next=3,f(e);case 3:0===t.sent.resultCode&&a(G(e)),a(z(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},unFollow:function(t){e(function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(z(!0,e)),t.next=3,d(e);case 3:0===t.sent.resultCode&&a(Q(e)),a(z(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},getUsersThunk:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m(e,t);case 2:r=a.sent,n(J(r.items)),n({type:"users/SET_TOTAL_USER_COUNT",totalCount:r.totalCount});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},pageChanger:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"users/SET_CURRENT_PAGE",currentPage:e}),a.next=3,m(e,t);case 3:r=a.sent,n(J(r.items));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},inputChangeAC:function(t){e({type:"users/UPDATE_INPUT_TEXT",data:t})},searchUsersActionCreator:function(){var t;e({type:"users/SEARCHING_USERS",data:t})},chekAuthThunk:function(){e(Y())}}})))($t),ta=a(48),aa=a.n(ta),na=Object($e.a)({form:"login"})((function(e){var t=e.handleSubmit;return pe.a.createElement("form",{className:aa.a.loginForm,onSubmit:t},pe.a.createElement(Ze.a,{withoutTouch:!1,name:"email",type:"email",label:"Your Email",validate:Ye,component:at}),pe.a.createElement(Ze.a,{withoutTouch:!1,name:"password",type:"password",label:"Your Password",validate:Ye,component:at}),e.captchaURL&&pe.a.createElement("div",{className:aa.a.captchaWrapper},pe.a.createElement("div",null,pe.a.createElement("img",{src:e.captchaURL,alt:"captcha"})),pe.a.createElement(Ze.a,{name:"captcha",type:"text",component:at})),null!==e.authError&&pe.a.createElement("div",{className:aa.a.errorWrapper},e.authError),pe.a.createElement("div",{className:aa.a.buttonWrapper},pe.a.createElement("button",{type:"submit"},"SUBMIT")))})),ra=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(he.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e){a.props.loginThunk(e)},a}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return this.props.authData.isAuth?pe.a.createElement(be.a,{to:"/profile"}):pe.a.createElement("div",{className:aa.a.loginFormWrapper},pe.a.createElement(na,{captchaURL:this.props.authData.captchaURL,authError:this.props.authData.authError,onSubmit:this.submit}))}}]),t}(pe.a.Component),oa=Object(ke.b)((function(e){return{authData:e.authData}}),{loginThunk:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:0===(n=t.sent).resultCode?a(X()):(10===n.resultCode&&a(Z()),a({type:"auth/SET_AUTH_ERROR",data:n.messages}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ra),sa=a(135),ca=a.n(sa),ia=a(136),ua=a.n(ia),la=a(137),pa=a.n(la),ma=a(138),fa=a.n(ma),da=a(139),ga=a.n(da),ha=a(140),Ea=a.n(ha),va=a(141),ba=a.n(va),Aa=a(142),Oa=a.n(Aa),_a=a(143),ya=a.n(_a),wa=a(144),Ta=a.n(wa),Da=function(){var e=Object(le.useState)(),t=Object(Ae.a)(e,2),a=t[0],n=t[1],r=Object(le.useState)(),o=Object(Ae.a)(r,2),s=o[0],c=o[1],i=Object(le.useRef)([]);return pe.a.createElement("div",null,pe.a.createElement("div",{className:ca.a.errorParallax,onMouseMove:function(e){!function(e){n(e.pageX/i.current.offsetWidth),c(e.pageY/i.current.offsetHeight),console.log(i.current.offsetWidth,i.current.offsetHeight)}(e)},ref:i},pe.a.createElement("div",{style:{transform:"translate3d(-".concat(105*a,"px, -").concat(60*s,"px, 0)")}},pe.a.createElement("img",{src:ua.a,alt:"layer1"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(70*a,"px, -").concat(60*s,"px, 0)")}},pe.a.createElement("img",{src:pa.a,alt:"layer2"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(65*a,"px, -").concat(55*s,"px, 0)")}},pe.a.createElement("img",{src:ya.a,alt:"layer4"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(55*a,"px, -").concat(45*s,"px, 0)")}},pe.a.createElement("img",{src:fa.a,alt:"layer3"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(40*a,"px, -").concat(20*s,"px, 0)")}},pe.a.createElement("img",{src:ga.a,alt:"layer5"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(20*a,"px, -").concat(8*s,"px, 0)")}},pe.a.createElement("img",{src:Ea.a,alt:"layer6"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(15*a,"px, -").concat(8*s,"px, 0)")}},pe.a.createElement("img",{src:ba.a,alt:"layer7"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(10*a,"px, -").concat(8*s,"px, 0)")}},pe.a.createElement("img",{src:Oa.a,alt:"layer8"})),pe.a.createElement("div",{style:{transform:"translate3d(-".concat(1*a,"px, -").concat(1*s,"px, 0)")}},pe.a.createElement("img",{src:Ta.a,alt:"layer9"})),pe.a.createElement("div",null,pe.a.createElement("h1",null,"404 not found"))))},Sa=function(e){function t(){return Object(de.a)(this,t),Object(he.a)(this,Object(Ee.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(ge.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.initializingAppThunk()}),3e3)}},{key:"render",value:function(){return this.props.initialized?pe.a.createElement("div",{className:"App"},pe.a.createElement(Ce,null),pe.a.createElement(Ue,null),pe.a.createElement(be.d,null,pe.a.createElement(be.b,{path:"/profile/:userId?",component:yt})," ",pe.a.createElement(be.b,{path:"/dialogs/:userId?",component:Ft}),pe.a.createElement(be.b,{path:"/users",component:ea}),pe.a.createElement(be.b,{path:"/settings",component:Qt}),pe.a.createElement(be.b,{path:"/login",component:oa}),pe.a.createElement(be.a,{exact:!0,from:"/",to:"/profile"}),pe.a.createElement(be.b,{path:"*",component:Da}))):pe.a.createElement(vt,null)}}]),t}(pe.a.Component),Pa=Object(n.d)(Object(ke.b)((function(e){return{initialized:e.appData.initialized}}),{initializingAppThunk:function(){return function(e){var t=e(Y());Promise.all([t]).then((function(){e({type:"app/INITIALIZING"})}))}}}),be.g)(Sa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));fe.a.render(pe.a.createElement(ke.a,{store:ue},pe.a.createElement(ye.a,null,pe.a.createElement(Pa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},29:function(e,t,a){e.exports={Posts:"Posts_Posts__SxVL_",post:"Posts_post___HL2w",postHeader:"Posts_postHeader__1T5s2",postPhoto:"Posts_postPhoto__1dHQZ",postSender:"Posts_postSender__3MU5K",postContent:"Posts_postContent__3DjCg",postFooter:"Posts_postFooter__1BDaP",settingPost:"Posts_settingPost__1APQ-"}},30:function(e,t,a){e.exports={header:"Header_header__3jzlE",miniAva:"Header_miniAva__cbrF4",userMenu:"Header_userMenu__2QNqO",corner:"Header_corner__3RJwP",navMenu:"Header_navMenu__2p6i5","open-menu":"Header_open-menu__2Hg1L",login:"Header_login__2n5Dp"}},31:function(e,t,a){e.exports={message:"MessagesItem_message__KLogb",messageError:"MessagesItem_messageError__3BxCZ",messageUnread:"MessagesItem_messageUnread__3OmuA",photoWrapper:"MessagesItem_photoWrapper__3TRkI",contentWrapper:"MessagesItem_contentWrapper__1fAix",nameWrapper:"MessagesItem_nameWrapper__2WhTl",dateWrapper:"MessagesItem_dateWrapper__2NE5D",messageWrapper:"MessagesItem_messageWrapper__1AQpy"}},32:function(e,t,a){e.exports={paginator:"Paginator_paginator__yrmUb",leftArrow:"Paginator_leftArrow__31K0S",rightArrow:"Paginator_rightArrow__3Rtxe",doubleArrow:"Paginator_doubleArrow__3wogr",rightArrowtoEnd:"Paginator_rightArrowtoEnd__26KjF",leftArrowtoEnd:"Paginator_leftArrowtoEnd__2-x8Q",currentPage:"Paginator_currentPage__2rVk6"}},36:function(e,t,a){e.exports={infoAboutUser:"InfoAboutUser_infoAboutUser__PAAmB",profileStatus:"InfoAboutUser_profileStatus__2AcSL",editButton:"InfoAboutUser_editButton__2t4LV",saveButton:"InfoAboutUser_saveButton__3l8bl"}},38:function(e,t,a){e.exports={Dialogs:"Dialogs_Dialogs__34Sen",dialogsList:"Dialogs_dialogsList__2SwJ9",slide:"Dialogs_slide__QSnfK",list:"Dialogs_list__1OScO",hr:"Dialogs_hr__ZmVL0",messagesBox:"Dialogs_messagesBox__16A0v",messageList:"Dialogs_messageList__3_ypf",sendMessageArea:"Dialogs_sendMessageArea__1SxJe"}},46:function(e,t,a){e.exports={preloader:"Preloader_preloader__1yJSd",preloaderContent:"Preloader_preloaderContent__1Cezz",preloaderFirst:"Preloader_preloaderFirst__K3DcB",preloaderSecond:"Preloader_preloaderSecond__v92db",preloaderThird:"Preloader_preloaderThird__3ek6N",first:"Preloader_first__1QBOt",second:"Preloader_second__21xyR",third:"Preloader_third__3k7MP"}},47:function(e,t,a){e.exports={list:"DialogsItem_list__3lgdO",dialogWrapper:"DialogsItem_dialogWrapper__-QmLP",miniAva:"DialogsItem_miniAva__2h9U4",nameWrapper:"DialogsItem_nameWrapper__26Eq4",listActive:"DialogsItem_listActive__3dmyJ"}},48:function(e,t,a){e.exports={loginFormWrapper:"Login_loginFormWrapper__fXXwW",loginForm:"Login_loginForm__ZBfit",captchaWrapper:"Login_captchaWrapper__3bFKb",buttonWrapper:"Login_buttonWrapper__90SJs",errorWrapper:"Login_errorWrapper__36nL6"}},54:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__15OyX",active:"Sidebar_active__3MGC9"}},55:function(e,t,a){e.exports={usersPage:"Users_usersPage__3dtw2",userWrapper:"Users_userWrapper__3X9s2",firstPiece:"Users_firstPiece__2pk8n",secondPiece:"Users_secondPiece__2x3GG"}},69:function(e,t,a){e.exports={settings:"Settings_settings__2rId8",blockOne:"Settings_blockOne__33RBf",blockTwo:"Settings_blockTwo__2ZO_s"}},88:function(e,t,a){e.exports={errorSpan:"FormValidation_errorSpan__2O6CI",warningSpan:"FormValidation_warningSpan__20ycR"}}},[[145,1,2]]]);
//# sourceMappingURL=main.de83ce07.chunk.js.map